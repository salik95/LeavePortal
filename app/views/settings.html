{% extends 'base.html' %}
{% block title %}Application Settings{% endblock %}

{% block body %}
<main id="application-settings">
  <div class="row">
    <div class="col s12 m8 center">

      <div class="card">

        <div class="card-content">
          <p class="heading text-center">
            <i class="material-icons">settings_applications</i><span>System Settings</span>
          </p>

          <form method="POST" action="#">

            {% include 'components/loading.html' %}

            {% with messages = get_flashed_messages(with_categories=true) %}
            {% if messages %}
            {% for category, message in messages %}
            <div class="notice solid {{category}}">
              <span>{{message}}</span>
            </div>
            {% endfor %}
            {% endif %}
            {% endwith %}

            <div class="row"></div>
            <div class="input-field col s12 m6">
              <label class="active" for="general_leaves_limit">General Leaves Limit</label>
              <input class="settings" type="text" value="{{ data.general_leaves_limit }}" placeholder="{{ data.general_leaves_limit }}"
              name="general_leaves_limit" id="general_leaves_limit">
            </div>

            <div class="input-field col s12 m6">
              <label class="active" for="medical_leaves_limit">Medical Leaves Limit</label>
              <input value="{{ data.medical_leaves_limit }}" type="text" placeholder="{{ data.medical_leaves_limit }}" name="medical_leaves_limit"
              id="medical_leaves_limit">

            </div>

            <div class="input-field col s12 m6">
              <label class="active" for="probation_leaves_limit">Probation Leaves Limit</label>
              <input value="{{ data.probation_leaves_limit }}" type="text" placeholder="{{ data.probation_leaves_limit }}" name="probation_leaves_limit"
              id="probation_leaves_limit">
            </div>

            <div class="input-field col s12 m6">
              <label class="active" for="fiscal_year_starting">Fiscal Year Starting</label>
              <input value="{{ data.fiscal_year_starting|strftime }}" class="datepicker" type="text" placeholder="{{ data.fiscal_year_starting|strftime }}"
              name="fiscal_year_starting" id="fiscal_year_starting">
            </div>

            <div class="input-field col s12 m6">
              <label class="active" for="probation_period">Probation Period</label>
              <input value="{{ data.probation_period }}" type="text" placeholder="{{ data.probation_period }}" name="probation_period" id="probation_period">
            </div>

            <div class="input-field col s12 m6">
              <label class="active" for="company_name">Company Name</label>
              <input value="{{ data.company_name }}" type="text" placeholder="{{ data.company_name }}" name="company_name" id="company_name">
            </div>

            <div class="input-field col s12 m6">
              <label class="active" for="director_email">Director's Email</label>
              <input value="{{ data.director_email }}" type="text" placeholder="{{ data.director_email }}" name="director_email" id="director_email">
            </div>

            <div class="clr"></div>
            
            <div class="input-field text-center">
              <button type="submit" name="submit" class="btn center flat">
                <i class="material-icons">check</i> UPDATE
              </button>
            </div>

          </form>
        </div>
      </div>
    </div>
  </div>

  <div class="row">
    <div class="col s12 m8 center">

      <div class="card">

        <div class="card-content">
          <p class="heading text-center">
            <i class="material-icons">settings_applications</i><span>Gazetted Holidays</span>
          </p>

          <form id="form-holidays" method="POST" action="#">

            {% include 'components/loading.html' %}

            {% with messages = get_flashed_messages(with_categories=true) %}
            {% if messages %}
            {% for category, message in messages %}
            <div class="notice solid {{category}}">
              <span>{{message}}</span>
            </div>
            {% endfor %}
            {% endif %}
            {% endwith %}

            <div class="row"></div>
            <div class="input-field col s12 m12">
              <label class="active" for="">One date on each line (dd/mm)</label>
              <input type="hidden" name="gazetted_holidays">
              <textarea class="materialize-textarea" type="text" name="holidays_proxy"></textarea> 
            </div>

            <div class="clr"></div>
            
            <div class="input-field text-center">
              <button type="submit" name="submit" class="btn center flat">
                <i class="material-icons">check</i> UPDATE
              </button>
            </div>

          </form>
        </div>
      </div>
    </div>
  </div>
</main>

{% endblock %}
